<!-- mainbody -->

<h1>Welcome in Contact</h1>
<p>Hello Everybody</p>
<h1>Contact List : </h1>
<a href="/contact/add" class="btn btn-primary mt-3 mb-3"><i class="bi bi-plus-square"></i> Add Contact Data</a>

<% if (msg.length !== 0) { %>
<div class="alert alert-success" role="alert">
  <%= msg %>
</div>
<% } %>
<!-- Membuat tabel menggunakan bootstrap -->
<table class="table table-dark table-striped">
  <thead>
    <tr>
      <th scope="col">No</th>
      <th scope="col">Name</th>
      <th scope="col">Email</th>
      <th scope="col text-center">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <% if (contacts.length < 1 ) { %>
      <p>Contact Data empty</p>
      <% } else {%>
      <!-- Membuat nomor angka variable let i -->
      <% let i = 1; %>
      <% for(const contact of contacts) { %>
    <tr>
      <!-- Memanggil dan nomor -->
      <th><%= i++ %> </th>
      <td><%= contact.name %> </td>
      <td><%= contact.email %> </td>

      <td><a href="/contact/<%= contact.name %>" class="btn btn-primary "><i class="bi bi-card-heading"></i>
          Detail</a>
        <!-- Menambahkan update dan delete  -->
        <a href="/contact/edit/<%= contact.name %>" class="btn btn-primary ml-1"><i class="bi bi-pencil-square"></i>
          Update</a>
        <a href="/contact/delete/<%= contact.name %>" class="btn btn-danger"
          onclick="return confirm('yakin Anda Menghapus <%= contact.name %>?')"><i class="bi bi-trash-fill"></i>
          Delete</a>
      </td>
    </tr>
    <% } %>
    <% } %>
    </tr>
    <tr>

    </tr>
  </tbody>
</table>

<!-- <ul>
     
      <% if (contacts.length < 1 ) { %>
       <p>Contact Data empty</p>
      <% } else {%>
      <% contacts.forEach(contact => { %>
        <li> Name : <%= contact.name %> </li>
        <li>Email : <%= contact.email %> </li>
        <br />
      <% }) %>
      <% } %>

    </ul> -->